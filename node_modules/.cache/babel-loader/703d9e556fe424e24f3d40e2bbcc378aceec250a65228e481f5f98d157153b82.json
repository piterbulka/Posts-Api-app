{"ast":null,"code":"var _jsxFileName = \"/Users/viktoriagushchina/Yandex.Disk-GushchinaStudy.localized/FRONTEND/picasso - test/picasso-2/picasso-app-2/src/components/PostList.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useInfiniteQuery } from 'react-query';\nimport { useNavigate } from 'react-router-dom';\nimport PostListItem from './PostListItem';\nimport axios from 'axios';\nimport './PostList.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PostsList = () => {\n  _s();\n  const navigate = useNavigate();\n  const PAGE_SIZE = 10;\n  const fetchPosts = async ({\n    pageParam = 1\n  }) => {\n    const response = await axios.get(`https://jsonplaceholder.typicode.com/posts?_page=${pageParam}&_limit=${PAGE_SIZE}`);\n    return response.data;\n  };\n  const {\n    data,\n    fetchNextPage,\n    hasNextPage,\n    isFetchingNextPage,\n    isLoading,\n    isError,\n    error\n  } = useInfiniteQuery('posts', fetchPosts, {\n    getNextPageParam: pages => {\n      const nextPage = pages.length + 1;\n      return nextPage;\n    }\n  });\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 12\n    }, this);\n  }\n  if (isError) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 12\n    }, this);\n  }\n  const handlePostClick = postId => {\n    navigate(`/post/${postId}`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"list\",\n    children: [data.pages.map((page, pageIndex) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: page.map(post => /*#__PURE__*/_jsxDEV(PostListItem, {\n        className: \"post-item\",\n        post: post,\n        onClick: () => handlePostClick(post.id)\n      }, post.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this))\n    }, pageIndex, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this)), hasNextPage && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => fetchNextPage(),\n      disabled: isFetchingNextPage,\n      children: isFetchingNextPage ? 'Loading more...' : 'Load More'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(PostsList, \"djs+7gWZ8paFJfBlo2x5onkrN74=\", false, function () {\n  return [useNavigate, useInfiniteQuery];\n});\n_c = PostsList;\nexport default PostsList;\nvar _c;\n$RefreshReg$(_c, \"PostsList\");","map":{"version":3,"names":["React","useInfiniteQuery","useNavigate","PostListItem","axios","jsxDEV","_jsxDEV","PostsList","_s","navigate","PAGE_SIZE","fetchPosts","pageParam","response","get","data","fetchNextPage","hasNextPage","isFetchingNextPage","isLoading","isError","error","getNextPageParam","pages","nextPage","length","children","fileName","_jsxFileName","lineNumber","columnNumber","message","handlePostClick","postId","className","map","page","pageIndex","Fragment","post","onClick","id","disabled","_c","$RefreshReg$"],"sources":["/Users/viktoriagushchina/Yandex.Disk-GushchinaStudy.localized/FRONTEND/picasso - test/picasso-2/picasso-app-2/src/components/PostList.js"],"sourcesContent":["import React from 'react';\nimport { useInfiniteQuery } from 'react-query';\nimport { useNavigate } from 'react-router-dom';\nimport PostListItem from './PostListItem';\nimport axios from 'axios';\nimport './PostList.css'\n\nconst PostsList = () => {\n  const navigate = useNavigate();\n  const PAGE_SIZE = 10;\n\n  const fetchPosts = async ({ pageParam = 1 }) => {\n    const response = await axios.get(\n      `https://jsonplaceholder.typicode.com/posts?_page=${pageParam}&_limit=${PAGE_SIZE}`\n    );\n    return response.data;\n  };\n\n  const {\n    data,\n    fetchNextPage,\n    hasNextPage,\n    isFetchingNextPage,\n    isLoading,\n    isError,\n    error,\n  } = useInfiniteQuery('posts', fetchPosts, {\n    getNextPageParam: (pages) => {\n      const nextPage = pages.length + 1;\n      return nextPage;\n    },\n  });\n\n  if (isLoading) {\n    return <div>Loading...</div>;\n  }\n\n  if (isError) {\n    return <div>Error: {error.message}</div>;\n  }\n\n  const handlePostClick = (postId) => {\n    navigate(`/post/${postId}`);\n  };\n\n  return (\n    <div className='list'>\n      {data.pages.map((page, pageIndex) => (\n        <React.Fragment key={pageIndex}>\n          {page.map((post) => (\n            <PostListItem className=\"post-item\"\n              key={post.id}\n              post={post}\n              onClick={() => handlePostClick(post.id)}\n            />\n          ))}\n        </React.Fragment>\n      ))}\n      {hasNextPage && (\n        <button \n          onClick={() => fetchNextPage()}\n          disabled={isFetchingNextPage}\n        >\n          {isFetchingNextPage ? 'Loading more...' : 'Load More'}\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default PostsList;\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,gBAAgB,QAAQ,aAAa;AAC9C,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,YAAY,MAAM,gBAAgB;AACzC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,gBAAgB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEvB,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAMC,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAC9B,MAAMQ,SAAS,GAAG,EAAE;EAEpB,MAAMC,UAAU,GAAG,MAAAA,CAAO;IAAEC,SAAS,GAAG;EAAE,CAAC,KAAK;IAC9C,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAG,CAC7B,oDAAmDF,SAAU,WAAUF,SAAU,EACpF,CAAC;IACD,OAAOG,QAAQ,CAACE,IAAI;EACtB,CAAC;EAED,MAAM;IACJA,IAAI;IACJC,aAAa;IACbC,WAAW;IACXC,kBAAkB;IAClBC,SAAS;IACTC,OAAO;IACPC;EACF,CAAC,GAAGpB,gBAAgB,CAAC,OAAO,EAAEU,UAAU,EAAE;IACxCW,gBAAgB,EAAGC,KAAK,IAAK;MAC3B,MAAMC,QAAQ,GAAGD,KAAK,CAACE,MAAM,GAAG,CAAC;MACjC,OAAOD,QAAQ;IACjB;EACF,CAAC,CAAC;EAEF,IAAIL,SAAS,EAAE;IACb,oBAAOb,OAAA;MAAAoB,QAAA,EAAK;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAC9B;EAEA,IAAIV,OAAO,EAAE;IACX,oBAAOd,OAAA;MAAAoB,QAAA,GAAK,SAAO,EAACL,KAAK,CAACU,OAAO;IAAA;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAC1C;EAEA,MAAME,eAAe,GAAIC,MAAM,IAAK;IAClCxB,QAAQ,CAAE,SAAQwB,MAAO,EAAC,CAAC;EAC7B,CAAC;EAED,oBACE3B,OAAA;IAAK4B,SAAS,EAAC,MAAM;IAAAR,QAAA,GAClBX,IAAI,CAACQ,KAAK,CAACY,GAAG,CAAC,CAACC,IAAI,EAAEC,SAAS,kBAC9B/B,OAAA,CAACN,KAAK,CAACsC,QAAQ;MAAAZ,QAAA,EACZU,IAAI,CAACD,GAAG,CAAEI,IAAI,iBACbjC,OAAA,CAACH,YAAY;QAAC+B,SAAS,EAAC,WAAW;QAEjCK,IAAI,EAAEA,IAAK;QACXC,OAAO,EAAEA,CAAA,KAAMR,eAAe,CAACO,IAAI,CAACE,EAAE;MAAE,GAFnCF,IAAI,CAACE,EAAE;QAAAd,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAGb,CACF;IAAC,GAPiBO,SAAS;MAAAV,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAQd,CACjB,CAAC,EACDb,WAAW,iBACVX,OAAA;MACEkC,OAAO,EAAEA,CAAA,KAAMxB,aAAa,CAAC,CAAE;MAC/B0B,QAAQ,EAAExB,kBAAmB;MAAAQ,QAAA,EAE5BR,kBAAkB,GAAG,iBAAiB,GAAG;IAAW;MAAAS,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/C,CACT;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACtB,EAAA,CA7DID,SAAS;EAAA,QACIL,WAAW,EAkBxBD,gBAAgB;AAAA;AAAA0C,EAAA,GAnBhBpC,SAAS;AA+Df,eAAeA,SAAS;AAAC,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}